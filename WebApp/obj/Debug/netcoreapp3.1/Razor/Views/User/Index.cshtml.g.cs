#pragma checksum "C:\webapplic2\WebApp2\WebApp\Views\User\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "a31501af2d8d905e1b4c58b8233c3a94eeede403"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_User_Index), @"mvc.1.0.view", @"/Views/User/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\webapplic2\WebApp2\WebApp\Views\_ViewImports.cshtml"
using network2;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\webapplic2\WebApp2\WebApp\Views\_ViewImports.cshtml"
using network2.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"a31501af2d8d905e1b4c58b8233c3a94eeede403", @"/Views/User/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"1c40a37a932401eb4945e690cd305f7bca89a41f", @"/Views/_ViewImports.cshtml")]
    public class Views_User_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 1 "C:\webapplic2\WebApp2\WebApp\Views\User\Index.cshtml"
  
    Layout = "_Layout_Profile";

#line default
#line hidden
#nullable disable
            WriteLiteral(@"<style>

.reaction-button {
  font-size: 25px; 
  margin-left: 3%;
  color: #b6b6b6
}

.post-photos {
display: flex;
justify-content: center;
align-items: center; 
margin-bottom: 2%; 
margin-top: 2%;
}

.post-text {
margin-left: 3%;
 margin-bottom: 1.5%; 
 margin-top: 1.5%
}

.post-header {
margin: 3% 3% 0%;
display: flex; 
flex-direction: row;
 align-items: flex-start;
}
.comment-header {
display: flex; 
flex-direction: row;
 align-items: flex-start;
}
</style>

");
#nullable restore
#line 39 "C:\webapplic2\WebApp2\WebApp\Views\User\Index.cshtml"
  
    if (Model.User.Nickname == User.Identity.Name)
    {

#line default
#line hidden
#nullable disable
            WriteLiteral(@"        <div style=""width: 100%; height: auto; background: #fff; border-radius: 5px; display: flex"">
            <div class=""container flex-column align-items-center justify-content-center"">
                <div class=""form-group"">
                    <textarea placeholder=""Add new post"" class=""form-control"" style=""resize: none; overflow: auto; margin-top: 10px;"" rows=""3"" id=""comment"" name=""text""></textarea>
                </div>
                <button class=""btn btn-primary mb-3"" id=""send-post"">Submit</button>
            </div>
        </div>
");
#nullable restore
#line 50 "C:\webapplic2\WebApp2\WebApp\Views\User\Index.cshtml"
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n<div style=\"display: flex; flex-direction: column\">\r\n    \r\n    <div id=\"posts\"></div>\r\n    \r\n</div>\r\n\r\n\r\n<script>\r\n\r\n    $(document).on(\'click\', \'.like-post\', function() {\r\n             $.ajax({\r\n               url:\'");
#nullable restore
#line 64 "C:\webapplic2\WebApp2\WebApp\Views\User\Index.cshtml"
               Write(Url.Action("LikeButtonResponse", "Post"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
               type:'POST',
               data: {   
                   postId: $(this).data(""id"")
               }
             });
             let likeCount = document.getElementById(""like-post"" + String($(this).data(""id"")));
             likeCount.innerHTML = String(parseInt(likeCount.innerHTML) + 1);
             $(this).css('color', 'red');
             $(this).removeClass(""like-post"");
             $(this).addClass(""unlike-post"");
             
     });
 
    $(document).on('click', '.unlike-post', function() {
             $.ajax({
               url:'");
#nullable restore
#line 80 "C:\webapplic2\WebApp2\WebApp\Views\User\Index.cshtml"
               Write(Url.Action("LikeButtonResponse", "Post"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
               type:'POST',
               data: {
                   postId: $(this).data(""id"")
               }
             });
             let likeCount = document.getElementById(""like-post"" + String($(this).data(""id"")));
             likeCount.innerHTML = String(parseInt(likeCount.innerHTML) - 1);
             $(this).css('color', 'gray');
             $(this).removeClass(""unlike-post"");
             $(this).addClass(""like-post"");
        });

    $(document).ready(function() {
   $.ajax({
           url:'");
#nullable restore
#line 95 "C:\webapplic2\WebApp2\WebApp\Views\User\Index.cshtml"
           Write(Url.Action("GetPostsByUserId", "Post"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n           type: \'GET\',\r\n           data: {\r\n               postId: ");
#nullable restore
#line 98 "C:\webapplic2\WebApp2\WebApp\Views\User\Index.cshtml"
                  Write(Model.User.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral(@",
           }
       }).done(function(posts) {
           let ddl = ' ';
                           $.each(posts, function(index, element){
                               ddl = PostMakeHTML(element);
                               $(ddl).insertBefore('#posts'); 
                               if(IsPostLikedByUser(element.id)){
                                    $(""#l"" + element.id).css('color', 'red');
                                    $(""#l"" + element.id).removeClass(""like-post"");
                                    $(""#l"" + element.id).addClass(""unlike-post"");
                               }
                               $.ajax({
                                          url:'");
#nullable restore
#line 111 "C:\webapplic2\WebApp2\WebApp\Views\User\Index.cshtml"
                                          Write(Url.Action("GetCommentsByPostId", "Post"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                                          type: 'GET',
                                          data: {
                                              postId: element.id,
                                          }
                                      }).done(function(comments) {
                                         $.each(comments, function(index, comment){
                                             ddl = CommentMakeHTML(comment);
                                             $(ddl).insertAfter('#comments-' + element.id); 
                                         }); 
                                      });   
                           });                           
     })
 });

    $(document).on('click', '#send-post', function() {
                $.ajax({
                  url:'");
#nullable restore
#line 128 "C:\webapplic2\WebApp2\WebApp\Views\User\Index.cshtml"
                  Write(Url.Action("SaveAndReturnPost", "Post"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                  type:'POST',
                  data: {
                      text: $('#comment').val()
                  }
                })
                .done(function (post){
                    let ddl = ' ';
                    ddl+=PostMakeHTML(post);
                    $(ddl).insertBefore('#posts');
                    });
           });
    
    $(document).on('click', '#post-comment', function() {
     let postId = 0;
     let button = $(this);
     postId = button.data(""id"");
                    $.ajax({
                      url:'");
#nullable restore
#line 146 "C:\webapplic2\WebApp2\WebApp\Views\User\Index.cshtml"
                      Write(Url.Action("SaveAndReturnComment", "Post"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                      type:'POST',
                      data: {
                          text: $('#comment-' +  button.data(""id"")).val(),
                          postId: button.data(""id"")
                      }
                    })
                    .done(function (comment){
                        let ddl = ' ';
                        ddl+=CommentMakeHTML(comment);
                        $(ddl).insertBefore('#comments-end-' +  postId); 
                        console.log('#comments-of-' +  postId);
                        let v = document.getElementById(""comments-of-"" + postId);
                        v.innerHTML = "" "" + String(parseInt(v.innerHTML) + 1);
                    });
               });
        
    $(document).on('click', '#delete-post', function() {
        DeletePost($(this).data(""id""));
     });

    let DeletePost = function(id) {
        $.ajax({
        url:'");
#nullable restore
#line 169 "C:\webapplic2\WebApp2\WebApp\Views\User\Index.cshtml"
        Write(Url.Action("DeletePost", "Post"));

#line default
#line hidden
#nullable disable
            WriteLiteral("\',\r\n        type: \'POST\',\r\n        data: {\r\n            postId: id\r\n        }\r\n        }).done(function() {\r\n           document.getElementById(\"post-\" + id).innerHTML = \"\";\r\n        })\r\n    };\r\n\r\n   \r\n</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
